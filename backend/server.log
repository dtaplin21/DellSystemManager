Checking Supabase credentials...
SUPABASE_URL: âœ“ Present
SUPABASE_SERVICE_ROLE_KEY: âœ“ Present
SUPABASE_KEY (fallback): âœ— Missing
DATABASE_URL: âœ“ Present
Environment Variables:
SUPABASE_URL: exists
SUPABASE_KEY: missing
DATABASE_URL: exists
Stripe client initialized successfully
âœ… connected-workflow.js route file loaded
âœ… /api/connected-workflow route registered
âœ… /api/asbuilt route registered
WebSocket server initialized
Server running on http://0.0.0.0:8003
AI services status: { aiServiceAvailable: true, openaiServiceAvailable: true }
ðŸ”Œ Attempting to connect to database...
ðŸ”Œ Connection string preview: postgresql://postgres.chfdozvsvltdmglcuoqf:Qualitydata790@[HIDDEN]
New client connected to database
Client acquired from pool
âœ… Successfully connected to Supabase PostgreSQL database
ðŸ”Œ Connection details: {
  host: 'aws-0-us-east-2.pooler.supabase.com',
  port: 6543,
  database: 'postgres',
  user: 'postgres.chfdozvsvltdmglcuoqf',
  ssl: 'enabled'
}
âœ… Database test query successful: {
  currentTime: 2025-09-29T19:13:01.573Z,
  version: 'PostgreSQL 15.8 on aarch64-unknown-linux-gnu, comp...'
}
Connected to PostgreSQL database
ðŸ”§ Applying database migrations...
Client acquired from pool
âœ… panel_layouts table created/verified
âœ… panel_layouts index created/verified
âœ… asbuilt_records table created/verified
âœ… asbuilt_records indexes created/verified
âœ… Database migrations completed successfully
Client removed from pool
Client was removed due to pool ending
