{
  "generatedAt": 1767045581.368901,
  "manifest": {
    "capabilities": {
      "multiAgent": true,
      "delegation": true,
      "sharedContext": true,
      "realTimeCollaboration": true,
      "dynamicWorkflows": true
    },
    "workflows": [
      {
        "id": "new_project_setup",
        "name": "New Project Setup",
        "description": "Configure a new GeoSynth QC project with quality and documentation guardrails",
        "process": "hierarchical",
        "agents": [
          {
            "key": "config",
            "name": "Configuration Lead",
            "role": "Project Configuration Specialist",
            "goal": "Assemble an end-to-end QC workflow tailored to project constraints",
            "complexity": "moderate",
            "tools": [],
            "allowDelegation": true
          },
          {
            "key": "qa",
            "name": "Quality Analyst",
            "role": "Quality and Compliance Analyst",
            "goal": "Ensure every configured step satisfies compliance requirements",
            "complexity": "complex",
            "tools": [],
            "allowDelegation": true
          },
          {
            "key": "reporter",
            "name": "Communication Specialist",
            "role": "Executive Report Author",
            "goal": "Translate configuration outcomes into executive summaries",
            "complexity": "simple",
            "tools": [],
            "allowDelegation": true
          }
        ],
        "tasks": [
          {
            "id": "gather-requirements",
            "description": "Evaluate provided project data and draft a workflow outline",
            "agent": "config",
            "expectedOutput": "A workflow outline with recommended automations"
          },
          {
            "id": "quality-review",
            "description": "Validate the proposed outline against quality and compliance constraints",
            "agent": "qa",
            "expectedOutput": "A list of risks and the mitigations applied"
          },
          {
            "id": "executive-brief",
            "description": "Summarize the approved plan with stakeholder-ready messaging",
            "agent": "reporter",
            "expectedOutput": "Executive summary highlighting automation coverage"
          }
        ]
      },
      {
        "id": "panel_optimization",
        "name": "Panel Optimization",
        "description": "Optimize panel layout with engineering and compliance review",
        "process": "sequential",
        "agents": [
          {
            "key": "optimizer",
            "name": "Layout Optimizer",
            "role": "Panel Layout Optimizer",
            "goal": "Design the highest efficiency layout respecting constraints",
            "complexity": "complex",
            "tools": [],
            "allowDelegation": true
          },
          {
            "key": "compliance",
            "name": "Compliance Partner",
            "role": "Specification Compliance Officer",
            "goal": "Ensure optimized layout respects specifications",
            "complexity": "moderate",
            "tools": [],
            "allowDelegation": true
          }
        ],
        "tasks": [
          {
            "id": "generate-optimization",
            "description": "Generate an optimized panel layout with key metrics",
            "agent": "optimizer",
            "expectedOutput": "Optimized layout proposal with metrics"
          },
          {
            "id": "compliance-check",
            "description": "Review the optimization for specification and constructability issues",
            "agent": "compliance",
            "expectedOutput": "Compliance evaluation with recommendations"
          }
        ]
      },
      {
        "id": "web_automation",
        "name": "Browser Automation",
        "description": "Automate navigation, interactions, and data capture from approved web applications",
        "process": "sequential",
        "agents": [
          {
            "key": "web_automation",
            "name": "Web Automation Specialist",
            "role": "Headless Browser Operator",
            "goal": "Safely execute browser interactions to gather data or complete workflows",
            "complexity": "moderate",
            "tools": [
              "browser_navigate",
              "browser_interact",
              "browser_extract",
              "browser_screenshot",
              "browser_vision_analyze",
              "browser_realtime",
              "browser_performance"
            ],
            "allowDelegation": true
          }
        ],
        "tasks": [
          {
            "id": "navigate-to-target",
            "description": "Open the requested page and confirm it matches allowed domains",
            "agent": "web_automation",
            "expectedOutput": "Confirmation of navigation with any gating issues"
          },
          {
            "id": "perform-interactions",
            "description": "Execute the form fills, clicks, drags, or downloads specified in the request. After each interaction capture a screenshot and run vision analysis to verify UI state and surface errors.",
            "agent": "web_automation",
            "expectedOutput": "List of interactions performed with success state and any vision insights"
          },
          {
            "id": "collect-artifacts",
            "description": "Extract requested data, capture before/after screenshots, and summarize any console, network, or realtime events relevant to the task",
            "agent": "web_automation",
            "expectedOutput": "Extracted data payloads, screenshot references, and notable runtime events"
          }
        ]
      },
      {
        "id": "multi_agent_browser_automation",
        "name": "Multi-Agent Browser Automation",
        "description": "Collaborative browser automation with specialized agents for navigation, analysis, execution, and validation",
        "process": "sequential",
        "agents": [
          {
            "key": "navigator",
            "name": "Navigation Specialist",
            "role": "Browser Navigation Coordinator",
            "goal": "Navigate to target pages, verify page loads, handle redirects and authentication",
            "complexity": "moderate",
            "tools": [
              "browser_navigate",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "visual_analyst",
            "name": "Visual Layout Analyst",
            "role": "Visual Layout Specialist",
            "goal": "Capture and analyze visual state of panel layouts, extract panel data sorted by visual position",
            "complexity": "complex",
            "tools": [
              "browser_screenshot",
              "browser_vision_analyze",
              "browser_extract"
            ],
            "allowDelegation": true
          },
          {
            "key": "interaction_executor",
            "name": "Interaction Specialist",
            "role": "UI Interaction Executor",
            "goal": "Execute user-requested actions on the panel layout (move panels, click buttons, fill forms, update positions)",
            "complexity": "complex",
            "tools": [
              "browser_interact",
              "browser_extract",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "validator",
            "name": "Validation Coordinator",
            "role": "Quality Assurance Validator",
            "goal": "Verify actions completed correctly, validate data integrity, catch errors, and generate validation reports",
            "complexity": "moderate",
            "tools": [
              "browser_extract",
              "browser_screenshot",
              "browser_performance",
              "browser_realtime"
            ],
            "allowDelegation": true
          }
        ],
        "tasks": [
          {
            "id": "navigate-to-panel-layout",
            "description": "Navigate to the panel layout page specified in the context. Verify the page loaded successfully, handle any authentication redirects, and confirm the canvas element is present.",
            "agent": "navigator",
            "expectedOutput": "Navigation confirmation with page URL, load status, and canvas element verification"
          },
          {
            "id": "analyze-visual-layout",
            "description": "Capture a screenshot of the current panel layout, analyze the visual arrangement using vision analysis, and extract panel data sorted by visual position (Y coordinate, then X coordinate).",
            "agent": "visual_analyst",
            "expectedOutput": "Screenshot reference, visual analysis results, and extracted panel data with visual positioning"
          },
          {
            "id": "execute-user-actions",
            "description": "Execute any user-requested actions on the panel layout (if actions are specified). This includes moving panels, clicking buttons, filling forms, or updating panel positions. Capture before/after screenshots to verify changes.",
            "agent": "interaction_executor",
            "expectedOutput": "List of actions performed, before/after screenshots, and updated panel state"
          },
          {
            "id": "validate-results",
            "description": "Verify all actions completed successfully, validate the extracted panel data for consistency, check for any errors in the browser console or network requests, and generate a comprehensive validation report.",
            "agent": "validator",
            "expectedOutput": "Validation report with success status, data integrity checks, error detection, and final panel state"
          }
        ]
      },
      {
        "id": "form_review_and_placement",
        "name": "Form Review and Layout Automation",
        "description": "Review uploaded forms, analyze placement requirements, and automatically create panels, patches, or destructive tests in optimal locations",
        "process": "sequential",
        "agents": [
          {
            "key": "form_reviewer",
            "name": "Form Reviewer",
            "role": "Form Data Quality Analyst",
            "goal": "Validate form data completeness, check required fields, identify form type, and assess data quality",
            "complexity": "moderate",
            "tools": [],
            "allowDelegation": true
          },
          {
            "key": "placement_analyst",
            "name": "Placement Analyst",
            "role": "Spatial Layout Specialist",
            "goal": "Analyze form location data, existing panel layout, and determine optimal x,y coordinates for item placement",
            "complexity": "complex",
            "tools": [
              "browser_extract",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "layout_navigator",
            "name": "Layout Navigator",
            "role": "Browser Navigation Coordinator",
            "goal": "Navigate to panel layout page, switch to correct tab (Panels/Patches/Destructs), and verify page readiness",
            "complexity": "moderate",
            "tools": [
              "browser_navigate",
              "browser_interact",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "item_creator",
            "name": "Item Creator",
            "role": "Form Automation Specialist",
            "goal": "Fill form modals with extracted data, submit item creation, and handle field mapping for panels, patches, and destructive tests. Use canvas coordinate clicking for precise placement when coordinates are available.",
            "complexity": "complex",
            "tools": [
              "browser_interact",
              "browser_extract",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "validation_agent",
            "name": "Validation Agent",
            "role": "Quality Assurance Validator",
            "goal": "Extract created item data, verify placement coordinates, check for conflicts (duplicate IDs, overlapping items), and validate item was created correctly",
            "complexity": "moderate",
            "tools": [
              "browser_extract",
              "browser_screenshot"
            ],
            "allowDelegation": true
          },
          {
            "key": "correction_agent",
            "name": "Autonomous Correction Agent",
            "role": "Quality Correction Specialist",
            "goal": "Review reflection results from all workflow agents, identify issues requiring UI corrections, navigate to affected UI elements, and autonomously make corrections to fix placement errors, data inconsistencies, or validation failures",
            "complexity": "complex",
            "tools": [
              "browser_navigate",
              "browser_interact",
              "browser_extract",
              "browser_screenshot",
              "browser_vision_analyze"
            ],
            "allowDelegation": true
          }
        ],
        "tasks": [
          {
            "id": "review-form-data",
            "description": "Review the uploaded form data. Validate that all required fields are present, check data quality, identify the form type (panel_placement, repairs, destructive, etc.), and assess if the form is ready for automation. CRITICAL: For repair forms (repairs domain) and destructive test forms (destructive domain), verify that ALL structured location fields are present: placementType (single_panel or seam), locationDistance (numeric, feet), locationDirection (north/south/east/west), and panelNumbers (comma-separated panel identifiers). If any of these fields are missing, mark the form as NOT ready for automation and provide a clear error message listing the missing fields.",
            "agent": "form_reviewer",
            "expectedOutput": "Form validation report with completeness status, identified form type, missing fields (if any), readiness assessment, and validation of structured location fields for patch-creating forms"
          },
          {
            "id": "analyze-placement",
            "description": "Analyze the form data to determine optimal placement coordinates. PRIORITY: Use structured location fields if available (placementType, locationDistance, locationDirection, panelNumbers) to calculate precise x,y coordinates. For structured data: extract placementType ('single_panel' or 'seam'), locationDistance (feet), locationDirection ('north', 'south', 'east', 'west'), and panelNumbers. Calculate coordinates by finding referenced panel(s) in layout, then applying distance offset in the specified direction. For seam placement, place between two panels. For single panel, place relative to panel center/edge. If structured fields unavailable, fall back to extracting location hints from text fields (locationDescription, locationNote, typeDetailLocation). Consider cardinal directions (North/South/East/West) and project cardinal_direction setting. Query existing layout to find gaps or optimal positions. Return x,y coordinates with confidence score (structured data = high confidence 0.9, text parsing = lower confidence 0.6-0.8).",
            "agent": "placement_analyst",
            "expectedOutput": "Placement analysis report with recommended x,y coordinates, confidence score, placement strategy used (structured_location_calculation or ai_interpretation), reasoning, and structured_fields_used metadata if applicable"
          },
          {
            "id": "navigate-to-layout",
            "description": "Navigate to the panel layout page for the project. Switch to the appropriate tab based on item type (Panels tab for panels, Patches tab for patches, Destructive Tests tab for destructive tests). Verify the page loaded correctly and the correct tab is active.",
            "agent": "layout_navigator",
            "expectedOutput": "Navigation confirmation with page URL, active tab name, and page readiness status"
          },
          {
            "id": "create-item",
            "description": "Click the 'Add' button to open the creation modal. Fill all form fields with data from the form record, including coordinates from placement analysis. VALIDATION: Before creating patches, verify that structured location data is present (placementType, locationDistance, locationDirection, panelNumbers). If missing, do not create the patch and return an error. OPTION 1 (Preferred): Use click_canvas_coordinates action to click at the calculated x,y coordinates on the canvas, then fill the modal that appears. OPTION 2: Fill form fields including x and y coordinate inputs directly. Map structured location fields: placementType, locationDistance, locationDirection to form fields if supported. Map calculated x,y coordinates to coordinate inputs. Map locationDescription to description/notes field. Handle different field types (text, number, date, select, textarea). For patches: include repairId, vboxPassFail. For destructive tests: include sampleId, passFail. Submit the form and wait for confirmation.",
            "agent": "item_creator",
            "expectedOutput": "Item creation report with success status, filled fields, coordinates used, placement method (canvas_click or form_input), validation status of structured location data, and any errors encountered"
          },
          {
            "id": "validate-creation",
            "description": "Extract the newly created item data from the page. Verify the item was created with correct coordinates, check for duplicate IDs or overlapping items, and validate all fields match the form data. Generate a validation report.",
            "agent": "validation_agent",
            "expectedOutput": "Validation report with item ID, verified coordinates, conflict check results, and overall validation status"
          }
        ]
      }
    ]
  }
}